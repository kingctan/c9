采购付款 
------------------------

销售收款和采购付款是c9中较难理解的部分, 此两者的共性

* 仅针对选择部门的单据进行付款
* 当单据保存后, 不在刷新付款明细列表, 新增加的单据需要新建付款单进行
* 当明细的金额不同于总金额时,其差额作为预付部分

.. rubric:: 付款金额为0

你可以创建收款金额为零的采购付款单,此时,你需要手动输入明细中的付款金额,其金额就会冲预付款

新建采购付款
===============================

1. 输入合作伙伴
2. 选择部门
3. 输入现金银行
4. 输入总付款金额 

系统会根据合作伙伴和部门列出该客户在该部门(不包括下级)所有未完成的单据列表

.. rubric:: 怎样的单据是未完成

* 销售单 - 总金额 - 已付金额 > 0
* 销售退货 - 总金额 - 已退金额 > 0
* 采购单 - 总金额 - 已付金额 > 0
* 采购退货 - 总金额 - 已退金额 >0
* 应收款调整 - 总金额 - 实际已调金额 <> 0
* 应付款调整 - 总金额 - 实际已调金额 <> 0
* 期初应收 - 期初应收 - 应收 > 0
* 期初应付 - 期初应付 - 应付 > 0
* 预收款(销售收款) - 预收款 - 实际收款<>0
* 预付款(采购付款) - 预付款 - 实际付款<>0

.. rubric:: 关于未付金额是如何得出的

原则: 同销售收款相反, 我的钱记负值

* 期初应收 - 期初应收 - 应收
* 期初应付 - 期初应付- 应付
* 销售单 - 总金额 - 已付金额 记负值
* 预收款 - 预收款 - 实际收款  
* 预付款 - 预付款 - 实际付款 记负值
* 销售退货 - 总金额 - 已退金额
* 采购单 - 总金额 - 已付金额 
* 采购退货 - 总金额 - 已退金额 记负值
* 应收款调整 - 根据调整类型 0 减少,1 增加,对于增加的,记负值  总金额 - 已调金额
* 应付款调整 - 根据调整类型 0 减少, 1增加,对于减少的,记负值 总金额 -已调金额

明细
========================

1. 选择要付款的行
2. 点击选择单元格,会出现一个核选框(todo)
3. 核选该框, *并将光标移动到其他行* (todo需要改进),  系统会自动总金额和总的付款额,自动填写本次付款(如果总金额为0, 你必须手动输入)
4. 点击保存,完成本次收款

*注* 当单据被执行时,仅本次付款起作用, 选择框是否选择都不影响执行环节

查看明细单据
===========================

1. 选择要查看的行
2. 点击查看 
3. 期初应收/期初应付无法查看

确认单据及流程参考 :doc:`/sale/sale_order`
