管理
---------------
.. admin-user:

用户
===========

用户界面由上下两部分组成，上方是用户列表 ，下方是选择的用户隶属的组(角色)和权限

一个用户可能隶属多个组， c9 按组进行授权，所以，这里, 你看到的用户权限是合并了所有组并取其最大访问级

用户属性
^^^^^^^^^^^^^^^^^^^

* 名称 - 用户名，必须输入, 用户名必须唯一
* ad名 - 当使用ad 集成认证时必须输入， ad名必须一
* 口令 - 当不使用ad集成认证时输入
* 电子邮件 -  可选
* 隶属员工  - 必须输入, 系统依赖此属性确定用户所在部门

搜索用户
^^^^^^^^^^^^^^^^^^^^^^^^^^

1. 输入用户名, ad_name或用户名的拼音，点击查询


新增用户
^^^^^^^^^^^^^^^^^^^

1. 点击 新建 ， 
2. 参考用户属性，输入必须输入的信息
3. 点击 保存

编辑用户
^^^^^^^^^^^^^^^^^^^
选择要编辑的用户

1. 点击 编辑
2. 修改用户属性
3. 点击 保存 

用户权限
^^^^^^^^^^^^^^^^^^

可以按用户设置对部门/仓库/现金银行等数据的访问权限,访问权限分为查看和工作流, 查看表示能查看此类数据,工作流表示在工作流的步骤中对此类数据有操作权限

如果选择某一节点而没有选择下级节点，则表示对该节点及其所有下级节点拥有同样权限
如果选择某一节点并选择该节点下某些节点，则表示对该节点及其所有下级节点拥有同样权限

对于树形结构, 如果在设置权限后发生变动，则需要重新授权，比方说在产品类别权限中，在某一类别如cpu中新增增加了amd, 在没有重新授权之前,拥有cpu权限的将不会自动拥有amd权限

在用户权限中，有访问权限的用户可以查看全部部门/仓库/账户/区域等记录，而基础数据中，则会根据用户权限设定隐藏记录



用户部门权限
^^^^^^^^^^^^^^^^^^^

1.保存 - 保存本次修改 
2.展开全部 - 展开所有 节点
3.选择全部 - 将所有节点的权限设置为工作流
4.取消全部 - 将所有节点的权限设置为无


用户区域权限
^^^^^^^^^^^^^^^^^^^
1.保存 - 保存本次修改 
2.展开全部 - 展开所有 节点
3.选择全部 - 将所有节点的权限设置为工作流
4.取消全部 - 将所有节点的权限设置为无


用户货品类型权限
^^^^^^^^^^^^^^^^^^^
1.保存 - 保存本次修改 
2.展开全部 - 展开选中节点
3.选择全部 - 将所有节点的权限设置为工作流
4.取消全部 - 将所有节点的权限设置为无


用户仓库权限
^^^^^^^^^^^^^^^^^^^

1.保存 - 保存本次修改 


用户银行权限
^^^^^^^^^^^^^^^^^^^
1.保存 - 保存本次修改 

.. admin-role:

角色
===========

角色，系统中也称为组

角色属性
^^^^^^^^^^^^^^^^^

* 名称 - 角色名称
* 是否允许 - 该角色是否禁用


搜索角色
^^^^^^^^^^^^

输入用户名，设置 是否允许选项 , 点击搜索图标

编辑角色
^^^^^^^^^^^^^^^

1. 选择需要编辑的角色 
2. 双击或选择编辑图标
3. 设置角色属性
4. 点击保存

设置角色用户
^^^^^^^^^^^^^^^^^^^^
1. 选择要编辑的角色 
2. 双击或选择编辑图标
3. 点击角色用户

*添加用户到角色*

* 点击增加图标
* 查找并选择需要增加的用户
* 双击或点击多选输入 按钮

*从角色中移除用户*

* 选择要移除的用户
* 点击删除图标
* 确认 (todo)

设置角色权限
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

系统用安全键表示角色权限，每个安全键同时拥有从无到删除 5级访问级

保存 - 保存本次修改
展开全部 - 展开全部节点
选择全部 - 选择所有安全键并将访问级设置为删除
取消全部  - 取消所有选择

*注意*, 如果选择上级节点并没有选择下级节点，则不会拥有下级节点权限。 如果选择了下级节点但没有选择其上级节点，导航应该无法正常显示。



新增角色 
^^^^^^^^^^^^^^^^^

1. 点击 新增 图标
2. 设置用户属性 
3. 点击保存


删除角色
^^^^^^^^^^^^^^^^^^^^^^
已经使用的角色不能删除！

1. 选择要删除的角色 
2. 点击删除图标
3. 确认 


工作流
============

通常，工作流由系统开发者根据用户需求预先建立，管理者通常只需要设置工作流步骤的角色 

一旦一用户隶属某一角色，而该角色被设置到某一工作流的某一步骤，则该用户能查看并操作该步骤（当然，同时该用户还会受制于其权限设置，参考 用户 帮助)

1. 对于销售单/销售退货/采购/采购退货/库存调价 必须对该仓库拥有工作流权限
2. 对于库存调拨， 对出库仓库或入库仓库拥有工作流权限
3. 对于销售收款/采购付款/费用开支/其它收入/现金银行变动/银行存取款等，必须对现金银行拥有工作流权限
4. 应收/应付调整， 必须对部门拥有工作流权限

设置工作流步骤角色过程如下

1. 选择要设置的工作流， 右边窗口显示该工作流的详细步骤
2. 选择工作流的步骤，*你仅需要对第一级步骤设置角色*
3. 在下方窗口, 增加或移除该步骤角色

增加工作流步骤角色
^^^^^^^^^^^^^^^^^^^^^^^^^^
1. 点击增加按钮
2. 搜索，选择角色（可多选)
3. 点击 多选确认 

移除工作流步骤角色
^^^^^^^^^^^^^^^^^^^^^^^^^^
1. 选择要移除的角色 
2. 点击删除图标
3. 确认

*注意* 增加或移除工作流角色后只对该操作以后生成的流程生效。


