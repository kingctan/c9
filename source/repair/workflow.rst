返修流程
--------------------------


1. 创建返修单
2. 确认 /审核返修单
3. 执行返修单

写入返修日志 坏件 数量+1

4. 备修 

备修执行好件-转坏件， 坏件转好件的操作 ， 只有通过备修的好件转坏件 或上家返修返还，才能进行返修返还

只有好件或坏件有值的情况下才能进行备修

备修完成后写入返修日志

5. 返修返还

只有存在好件的情况下才能 进行返修返还， 操作结束后好件数量为0, 返还数量+1

写入返修日志

返修返还表示该行结束

6. 返修退回/返修报废 

只有存在 坏件的情况 下才能 进行 返修退回或返修报废 ， 操作 结束后坏件数量 为0, 退回或报废数量 +1

写入返修日志

返修退回或返修报废 表示该行结束

7。 上家送修

只有存在坏件的情况 下才能 进行上家送修 ， 操作结束后坏件数量 为0 ，在途数量 为1

同时要求输入 上家

写入返修日志

7. 上家送修返还

只有存在 在途数量的才能进行上家送修返还， 操作结束后好件数量+1 ，在途数量为0

写入返修日志， 可以继续从4 循环

8. 上家送修退回/报废

只有存在 在途数量的情况 下才能 进行 上家送修退回或报废 ， 操作 结束后坏件数量 为1, 在途数量为0


写入返修日志， 可以继续从4 循环

9. 好件转销售（极少，无人认领) todo

只有存在好件的情况下才能操作， 好件数量减一，销售数量 +1 生成入库单 todo 

写入返修日志，该行结束

10. 换货 todo

只有存在坏件的情况下才能 换货

换的货从真正仓库出，记入日志， 报废数量加1 ， 记录亏损

11. 好的换

不属于维修的流程


12. 从其他仓库调拨（c9整合时） 或向主公司采购 （销售模块单独时)

不属于维修的流程


状态
=====================

* 0 返修单 
* 1 好件转坏件
* 2 坏件转好件
* 3 上家送修
* 4 上家送修返还
* 5 上家送修退回
* 6 上家送修报废
* 7 换货
* 12 返修返还
* 13 返修退回
* 14 返修报废
* 15 转销售

大于等于12 为完成状态




